{% load static %}

<!DOCTYPE html>
<html lang="en" style="overflow-x: hidden; max-width: 100%;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice50</title>
    <link rel="stylesheet"
        href="https://qbbnzmzzuixtljvesjmt.supabase.co/storage/v1/object/public/rlhq/dist_dashboard_styles.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://unpkg.com/htmx.org@1.9.4"
        integrity="sha384-zUfuhFKKZCbHTY6aRR46gxiqszMk5tcHjsVFxnUo8VMus4kHGVdIYVbOYYNlKmHV"
        crossorigin="anonymous"></script>

    <style>
        .loading {
            display: none;
            /* Hidden by default */
            border: 16px solid #f3f3f3;
            /* Light grey */
            border-top: 16px solid #3498db;
            /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            margin: 0 auto;
            /* Center horizontally */
            margin-top: 20px;
            /* Add space above */
        }
    
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
    
            100% {
                transform: rotate(360deg);
            }
        }
    </style>

</head>

<body style="overflow-x: hidden; max-width: 100%;">
    <nav class="navbar navbar-expand-lg navbar-light w-100">
        <div class="container px-3">
            <a href="" class="navbar-brand"><img src="{% static 'images/Practice200.svg' %}" alt /></a>
            <button class="navbar-toggler offcanvas-nav-btn" type="button">
                <a> <i class="fa fa-arrow-right"></i> </a>
            </button>

            <div class="offcanvas offcanvas-start offcanvas-nav" style="width: 20rem">
                <div class="offcanvas-header">
                    <a href="" class="text-inverse"><img src="{% static 'images/Practice200.svg' %}" alt /></a>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body pt-0 align-items-center">
                    <ul class="navbar-nav mx-auto align-items-lg-center">

                    </ul>

                    <button class="btn btn-primary">50 Practice Questions</button>
                </div>
            </div>
    </nav>

    <div class="container" style="margin-top: 5%;">
        <div class="left-side">
            <div class="container price-wrapper">
                <div class="loading" id="loading"></div>
                <form hx-post="{% url 'questions' %}" hx-target="#questions" hx-trigger="submit">
                    {% csrf_token %}
                    <div class="col-md-12">
                        <label for="exampleFormControlInput1">Scope of study</label>
                        <textarea type="text" class="form-control" rows="6" name="details"
                            placeholder="Example: This course explores the dynamics of power, governance, and policy-making, analyzing political systems, institutions, and behavior to understand contemporary global and domestic issues."
                            required></textarea>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label for="exampleFormControlInput1">Study goals</label>
                            <input type="text" class="form-control" name="study_goals" placeholder="Class discussion"
                                required>
                        </div>
                        <div class="col-md-6">
                            <label for="exampleFormControlInput1">Difficulty level</label>
                            <select class="form-control" name="difficulty" id="exampleFormControlSelect1" required>
                                <option>Beginner</option>
                                <option>Intermediate</option>
                                <option>Advanced</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <button class="btn btn-primary" type="submit">Generate Practice Questions</button>
                </form>
            </div>
        </div>

        <div class="right-side">
            <!--pricing-->
            <section class="pt-4 ">
                <div class="container price-wrapper" id="questions"></div>
            </section>
            <!--pricing-->
        </div>
        <br><br><br>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var loader = document.getElementById('loading');

            // Show loader when the request starts
            document.addEventListener('htmx:beforeRequest', function (event) {
                loader.style.display = 'block';
            });

            // Hide loader when the response is successfully received
            document.addEventListener('htmx:afterOnLoad', function (event) {
                loader.style.display = 'none';
            });

            // Hide loader if the request fails
            document.addEventListener('htmx:afterRequest', function (event) {
                loader.style.display = 'none';
            });
        });
    </script>


</body>

</html>